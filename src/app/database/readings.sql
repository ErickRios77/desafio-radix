DROP DATABASE IF EXISTS Leituras;
CREATE DATABASE Leituras;
USE Leituras;

CREATE TABLE usuario(
    idUsuario INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(45) NOT NULL,
    senha VARCHAR(255) NOT NULL
);

CREATE TABLE sensor(
    equipmentID VARCHAR(9) PRIMARY KEY,
    idResponsavel INT NOT NULL,
    FOREIGN KEY (idResponsavel) REFERENCES usuario(idUsuario)
);

CREATE TABLE leitura(
    id INT PRIMARY KEY AUTO_INCREMENT,
    equipmentID VARCHAR(9) NOT NULL,
    dataLeitura TIMESTAMP,
    valor DECIMAL(5,2),
    FOREIGN KEY (equipmentID) REFERENCES sensor(equipmentID)
);

INSERT INTO usuario(nome, senha)
VALUES ("Erick", "senha123"), ("Lara", "senha456");

INSERT INTO sensor(equipmentID, idResponsavel)
VALUES
("EQ-12544",1),
("EQ-12571", 1),
("EQ-12536", 1),
("EQ-12507", 1),
("EQ-12526", 2),
("EQ-12552", 2),
("EQ-12565", 2);

INSERT INTO leitura (equipmentID, dataLeitura, valor)
VALUES
('EQ-12544', '2024-09-18T22:22:46-03:00', 65.21),
('EQ-12571', '2024-09-19T15:11:20-03:00', 58.49),
('EQ-12536', '2024-09-20T10:46:40-03:00', 47.53),
('EQ-12507', '2024-09-21T09:37:55-03:00', 49.7),
('EQ-12526', '2024-09-22T23:57:19-03:00', 84.67),
('EQ-12552', '2024-09-23T16:49:15-03:00', 88.31),
('EQ-12565', '2024-09-24T01:49:59-03:00', 90.87),
('EQ-12544', '2024-09-25T17:19:15-03:00', 89.27),
('EQ-12571', '2024-09-26T17:32:59-03:00', 10.11),
('EQ-12536', '2024-09-27T19:05:15-03:00', 67.5),
('EQ-12507', '2024-09-28T11:29:39-03:00', 28.33),
('EQ-12526', '2024-09-29T14:11:58-03:00', 32.97),
('EQ-12552', '2024-09-30T13:03:12-03:00', 87.98),
('EQ-12565', '2024-10-01T03:21:24-03:00', 19.79),
('EQ-12544', '2024-10-02T20:22:09-03:00', 84.04),
('EQ-12571', '2024-10-03T09:09:20-03:00', 31.82),
('EQ-12536', '2024-10-04T07:55:43-03:00', 20.6),
('EQ-12507', '2024-10-05T19:18:23-03:00', 56.08),
('EQ-12526', '2024-10-06T06:57:08-03:00', 93.84),
('EQ-12552', '2024-10-07T22:11:18-03:00', 84.93),
('EQ-12565', '2024-10-08T22:19:03-03:00', 84.04),
('EQ-12544', '2024-10-09T19:40:05-03:00', 88.01),
('EQ-12571', '2024-10-10T11:13:42-03:00', 14.91),
('EQ-12536', '2024-10-11T10:47:18-03:00', 58.32),
('EQ-12507', '2024-10-12T11:46:49-03:00', 36.05),
('EQ-12526', '2024-10-13T14:29:23-03:00', 22.01),
('EQ-12552', '2024-10-14T02:25:13-03:00', 10.98),
('EQ-12565', '2024-10-15T11:35:09-03:00', 48.59);